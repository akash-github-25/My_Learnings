<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        input{
            display:block;
            margin-top: 10px;
            padding: 7px;
            width: 250px;
        }
        #nav{
            /* border: 1px solid red; */
            display: flex;
            justify-content: space-around;
            
        }
    </style>
</head>
<body>
    <div id="nav"></div>
    <a href="dashbord.html">DASHBORD</a>
    <form action="" id="form">
        <h1>STUDENTS DETAILS</h1>
        <input type="text" placeholder="name" id="name">
        <input type="text" placeholder="course" id="course">
        <input type="text" placeholder="unit" id="unit">
        <input type="url" placeholder="image" id="image">
        <input type="number" placeholder="batch" id="batch">
        <input type="submit" id="submit" placeholder="submit">
    </form>
</body>
</html>
<script>
    let data=JSON.parse(localStorage.getItem("detail"))||[]
    document.querySelector("form").addEventListener("submit",on)
    function on(event){
        document.querySelector("#nav").innerHTML=""
     event.preventDefault()
     let name=document.querySelector("#name").value
     let course=document.querySelector("#course").value
     let unit=document.querySelector("#unit").value
     let image=document.querySelector("#image").value
     let batch=document.querySelector("#batch").value
  let s1=new student(name,course,unit,image,batch)
  data.push(s1)
  localStorage.setItem("detail",JSON.stringify(data))
  cal();
    }
    function student(n,c,u,i,b){
        this.name=n
        this.course=c
        this.unit=u
        this.image=i
        this.batch=`batch-${b}`
        
        
    }
    // cal();
//     for(let i=0;i<1;i++){
//     window.location.reload()
// }
    function cal(){
        let data=JSON.parse(localStorage.getItem("detail"))||[]
    // console.log(data)
        let obj={}
        for(let i=0;i<data.length;i++){
        
            if(obj[data[i].batch]==undefined){
                obj[data[i].batch]=1
            }else{
                obj[data[i].batch]++
            }
        
    }
    
        // console.log(obj)
        for(let key in obj){
           let p= document.createElement("p")
           p.innerText=key +" "+"count-"+obj[key]
           document.querySelector("#nav").append(p)
        
    }
        // window.location.reload()
    }
    // window.location.reload()
    cal();

</script>